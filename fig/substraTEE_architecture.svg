<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1139px" height="922px" viewBox="-0.5 -0.5 1139 922" content="&lt;mxfile modified=&quot;2019-04-16T13:08:54.660Z&quot; host=&quot;www.draw.io&quot; agent=&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.103 Safari/537.36&quot; etag=&quot;iWU-IQ0rhByIa8l9UTgm&quot; version=&quot;10.6.2&quot;&gt;&lt;diagram name=&quot;Page-1&quot; id=&quot;5f0bae14-7c28-e335-631c-24af17079c00&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs/><g><path d="M 377 160 L 1287 160 L 1297 170 L 1297 760 L 387 760 L 377 750 L 377 160 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" transform="rotate(90,837,460)" pointer-events="none"/><path d="M 387 760 L 387 170 L 377 160 M 387 170 L 1297 170" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" transform="rotate(90,837,460)" pointer-events="none"/><g transform="translate(540.5,14.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="129" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Verdana; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-decoration: underline;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><b>substraTEE-worker</b></div></div></foreignObject><text x="65" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Verdana" text-decoration="underline">&lt;b&gt;substraTEE-worker&lt;/b&gt;</text></switch></g><path d="M 172 655 L 282 655 L 292 665 L 292 1065 L 182 1065 L 172 1055 L 172 655 Z" fill="#e1d5e7" stroke="#9673a6" stroke-miterlimit="10" transform="rotate(90,232,860)" pointer-events="none"/><path d="M 182 1065 L 182 665 L 172 655 M 182 665 L 292 665" fill="none" stroke="#9673a6" stroke-miterlimit="10" transform="rotate(90,232,860)" pointer-events="none"/><g transform="translate(30.5,814.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="114" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Verdana; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-decoration: underline;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><b>substraTEE-node</b></div></div></foreignObject><text x="57" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Verdana" text-decoration="underline">&lt;b&gt;substraTEE-node&lt;/b&gt;</text></switch></g><path d="M 42 -15 L 412 -15 L 422 -5 L 422 395 L 52 395 L 42 385 L 42 -15 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" transform="rotate(90,232,190)" pointer-events="none"/><path d="M 52 395 L 52 -5 L 42 -15 M 52 -5 L 422 -5" fill="none" stroke="#b85450" stroke-miterlimit="10" transform="rotate(90,232,190)" pointer-events="none"/><g transform="translate(30.5,14.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="118" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Verdana; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-decoration: underline;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><b>substraTEE-client</b></div></div></foreignObject><text x="59" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Verdana" text-decoration="underline">&lt;b&gt;substraTEE-client&lt;/b&gt;</text></switch></g><path d="M 67 610 L 67 794.22" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 67 799.47 L 63.5 792.47 L 67 794.22 L 70.5 792.47 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 174.5 347.5 L 279.5 347.5 L 289.5 357.5 L 289.5 757.5 L 184.5 757.5 L 174.5 747.5 L 174.5 347.5 Z" fill="#f5f5f5" stroke="#666666" stroke-miterlimit="10" transform="rotate(90,232,552.5)" pointer-events="none"/><path d="M 184.5 757.5 L 184.5 357.5 L 174.5 347.5 M 184.5 357.5 L 289.5 357.5" fill="none" stroke="#666666" stroke-miterlimit="10" transform="rotate(90,232,552.5)" pointer-events="none"/><g transform="translate(30.5,509.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="133" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Verdana; color: rgb(51, 51, 51); line-height: 1.2; vertical-align: top; white-space: nowrap; text-decoration: underline;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><b>substrate-api-client</b></div></div></foreignObject><text x="67" y="12" fill="#333333" text-anchor="middle" font-size="12px" font-family="Verdana" text-decoration="underline">&lt;b&gt;substrate-api-client&lt;/b&gt;</text></switch></g><path d="M 1057 449 C 1057 437 1117 437 1117 449 L 1117 501 C 1117 513 1057 513 1057 501 Z" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="none"/><path d="M 1057 449 C 1057 458 1117 458 1117 449 M 1057 453.5 C 1057 462.5 1117 462.5 1117 453.5 M 1057 458 C 1057 467 1117 467 1117 458" fill="none" stroke="#d6b656" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(1065.5,469.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="41" height="26" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 41px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">sealed<br />storage<br /></div></div></foreignObject><text x="21" y="19" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><rect x="37" y="40" width="380" height="50" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(36.5,39.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="379" height="49" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 380px; height: 50px; overflow: hidden; white-space: nowrap;"><p style="margin: 0px ; margin-top: 4px ; text-align: center"><b>Function "get_public_key_from_tee"</b></p><hr size="1" /><p style="margin: 0px ; margin-left: 4px">+ Action: get public key from TEE worker (start with a file)<br /></p><p style="margin: 0px ; margin-left: 4px"><br /></p><p style="margin: 0px ; margin-left: 4px"><br /></p></div></foreignObject><text x="189" y="30" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><rect x="37" y="532.5" width="380" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(36.5,532.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="379" height="59" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 380px; height: 60px; overflow: hidden; white-space: nowrap;"><p style="margin: 0px ; margin-top: 4px ; text-align: center"><b>Function "send_extrinsic"</b></p><hr size="1" /><p style="margin: 0px ; margin-left: 4px">+ Action: send extrinsic to substraTEE node<br /></p><p style="margin: 0px ; margin-left: 4px"><br /></p><p style="margin: 0px ; margin-left: 4px"><br /></p></div></foreignObject><text x="189" y="35" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><path d="M 417.59 312.35 L 497.59 312.35 L 497.59 852.35 L 651.22 852.35" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 656.47 852.35 L 649.47 855.85 L 651.22 852.35 L 649.47 848.85 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="37" y="300" width="380" height="70" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(36.5,299.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="379" height="69" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 380px; height: 70px; overflow: hidden; white-space: nowrap;"><p style="margin: 0px ; margin-top: 4px ; text-align: center"><b>Function "poll counter"</b></p><hr size="1" /><p style="margin: 0px ; margin-left: 4px">+ Action: compose correct poll message</p><p style="margin: 0px ; margin-left: 4px">+ Action: send request to substraTEE worker<br /></p><p style="margin: 0px ; margin-left: 4px"><br /></p><p style="margin: 0px ; margin-left: 4px"><br /></p></div></foreignObject><text x="189" y="40" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><path d="M 37.59 202.94 L 37.59 206.47 L 7 206.47 L 7 542.94 L 31.22 542.94" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 36.47 542.94 L 29.47 546.44 L 31.22 542.94 L 29.47 539.44 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="37" y="190" width="380" height="50" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(36.5,189.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="379" height="49" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 380px; height: 50px; overflow: hidden; white-space: nowrap;"><p style="margin: 0px ; margin-top: 4px ; text-align: center"><b>Call function "send_extrinsic"</b></p><hr size="1" /><p style="margin: 0px ; margin-left: 4px">+ From substrate-api-client</p><p style="margin: 0px ; margin-left: 4px"><br /></p></div></foreignObject><text x="189" y="30" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><rect x="657" y="40" width="380" height="70" fill="#d5e8d4" stroke="#82b366" pointer-events="none"/><g transform="translate(656.5,39.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="379" height="69" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 380px; height: 70px; overflow: hidden; white-space: nowrap;"><p style="margin: 0px ; margin-top: 4px ; text-align: center"><b>Function "create_key_pair"</b></p><hr size="1" /><p style="margin: 0px ; margin-left: 4px">+ Action: use TEE to generate keypair and get public key<br /></p><p style="margin: 0px ; margin-left: 4px">+ Output: public key (file)</p><p style="margin: 0px ; margin-left: 4px"><br /></p></div></foreignObject><text x="189" y="40" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><rect x="657" y="120" width="380" height="70" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(656.5,119.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="379" height="69" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 380px; height: 70px; overflow: hidden; white-space: nowrap;"><p style="margin: 0px ; margin-top: 4px ; text-align: center"><b>Function "register_to_event"</b></p><hr size="1" /><p style="margin: 0px ; margin-left: 4px">+ Action: register to the event exposed by substraTEE-node module</p></div></foreignObject><text x="189" y="40" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><rect x="657" y="200" width="380" height="70" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(656.5,199.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="379" height="69" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 380px; height: 70px; overflow: hidden; white-space: nowrap;"><p style="margin: 0px ; margin-top: 4px ; text-align: center"><b>Function "read_payload"</b></p><hr size="1" /><p style="margin: 0px ; margin-left: 4px">+ Action: on event, read the (encrypted) payload from node<br /></p><p style="margin: 0px ; margin-left: 4px">+ Output:</p><p style="margin: 0px ; margin-left: 4px"><br /></p></div></foreignObject><text x="189" y="40" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><rect x="657" y="360" width="380" height="70" fill="#d5e8d4" stroke="#82b366" pointer-events="none"/><g transform="translate(656.5,359.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="379" height="69" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 380px; height: 70px; overflow: hidden; white-space: nowrap;"><p style="margin: 0px ; margin-top: 4px ; text-align: center"><b>Function "decrypt_sealed_storage"</b></p><hr size="1" /><p style="margin: 0px ; margin-left: 4px">+ Action: Use private key to decrypt sealed storage<br /></p><p style="margin: 0px ; margin-left: 4px">+ Output:</p><p style="margin: 0px ; margin-left: 4px"><br /></p></div></foreignObject><text x="189" y="40" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><rect x="657" y="520" width="380" height="70" fill="#d5e8d4" stroke="#82b366" pointer-events="none"/><g transform="translate(656.5,519.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="379" height="69" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 380px; height: 70px; overflow: hidden; white-space: nowrap;"><p style="margin: 0px ; margin-top: 4px ; text-align: center"><b>Function "encrypt_and_save_sealed_storage"</b></p><hr size="1" /><p style="margin: 0px ; margin-left: 4px">+ Action: Use public key to encrypt sealed storage<br /></p><p style="margin: 0px ; margin-left: 4px">+ Output:</p><p style="margin: 0px ; margin-left: 4px"><br /></p></div></foreignObject><text x="189" y="40" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><rect x="657" y="440" width="380" height="70" fill="#d5e8d4" stroke="#82b366" pointer-events="none"/><g transform="translate(656.5,439.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="379" height="69" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 380px; height: 70px; overflow: hidden; white-space: nowrap;"><p style="margin: 0px ; margin-top: 4px ; text-align: center"><b>Function "increment_counter"</b></p><hr size="1" /><p style="margin: 0px ; margin-left: 4px">+ Action: Add payload to counter of AccountId<br /></p><p style="margin: 0px ; margin-left: 4px">+ Output:</p><p style="margin: 0px ; margin-left: 4px"><br /></p></div></foreignObject><text x="189" y="40" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><rect x="657" y="280" width="380" height="70" fill="#d5e8d4" stroke="#82b366" pointer-events="none"/><g transform="translate(656.5,279.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="379" height="69" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 380px; height: 70px; overflow: hidden; white-space: nowrap;"><p style="margin: 0px ; margin-top: 4px ; text-align: center"><b>Function "decrypt_content"</b></p><hr size="1" /><p style="margin: 0px ; margin-left: 4px">+ Action: Use private key from TEE to decrypt payload<br /></p><p style="margin: 0px ; margin-left: 4px">+ Output:</p><p style="margin: 0px ; margin-left: 4px"><br /></p></div></foreignObject><text x="189" y="40" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><rect x="657" y="600" width="380" height="80" fill="#d5e8d4" stroke="#82b366" pointer-events="none"/><g transform="translate(656.5,599.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="379" height="79" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 380px; height: 80px; overflow: hidden; white-space: nowrap;"><p style="margin: 0px ; margin-top: 4px ; text-align: center"><b>Function "compose_extrinsic"</b></p><hr size="1" /><p style="margin: 0px ; margin-left: 4px">+ Action: compose payload with hash of initial payload<br /></p><p style="margin: 0px ; margin-left: 4px">+ Action: sign with private key of TEE</p><p style="margin: 0px ; margin-left: 4px">+ Output: signed payload ready for transfer</p><p style="margin: 0px ; margin-left: 4px"><br /></p></div></foreignObject><text x="189" y="45" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><path d="M 657.59 705.29 L 517.59 705.29 L 517.59 546.47 L 417.59 546.47 L 417.59 541.28" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 417.59 546.53 L 414.09 539.53 L 417.59 541.28 L 421.09 539.53 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="657" y="690" width="380" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(656.5,689.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="379" height="59" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 380px; height: 60px; overflow: hidden; white-space: nowrap;"><p style="margin: 0px ; margin-top: 4px ; text-align: center"><b>Call function "send_extrinsic"</b></p><hr size="1" /><p style="margin: 0px ; margin-left: 4px">+ Action: use substraTEE library to send extrinsic to substraTEE node</p><p style="margin: 0px ; margin-left: 4px"><br /></p></div></foreignObject><text x="189" y="35" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><rect x="37" y="840" width="300" height="70" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(36.5,839.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="299" height="69" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 300px; height: 70px; overflow: hidden; white-space: nowrap;"><p style="margin: 0px ; margin-top: 4px ; text-align: center"><b>Module "substraTEE"</b></p><hr size="1" /><p style="margin: 0px ; margin-left: 4px">+ Event: ExtrinsicReceived<br /></p><p style="margin: 0px ; margin-left: 4px">  + Fired on valid extrinsic</p></div></foreignObject><text x="149" y="40" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><path d="M 1043.37 394.71 L 1087 394.71 L 1087 440.59" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1038.12 394.71 L 1045.12 391.21 L 1043.37 394.71 L 1045.12 398.21 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="1017" y="360" width="20" height="70" fill="#fff2cc" stroke="#d6b656" pointer-events="none"/><path d="M 1037 554.71 L 1087 554.71 L 1087 516.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1087 511.12 L 1090.5 518.12 L 1087 516.37 L 1083.5 518.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="1017" y="520" width="20" height="70" fill="#fff2cc" stroke="#d6b656" pointer-events="none"/><rect x="627" y="280" width="20" height="400" fill="#d5e8d4" stroke="#82b366" pointer-events="none"/><g transform="translate(602.5,474.5)rotate(-90,33.5,6)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="67" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 69px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Runs in TEE</div></div></foreignObject><text x="34" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Runs in TEE</text></switch></g><rect x="627" y="40" width="20" height="70" fill="#d5e8d4" stroke="#82b366" pointer-events="none"/><g transform="translate(608.5,69.5)rotate(-90,27.5,6)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="55" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 55px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Uses TEE</div></div></foreignObject><text x="28" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Uses TEE</text></switch></g><rect x="657" y="840" width="380" height="70" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(656.5,839.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="379" height="69" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 380px; height: 70px; overflow: hidden; white-space: nowrap;"><p style="margin: 0px ; margin-top: 4px ; text-align: center"><b>Function "send_counter"</b></p><hr size="1" /><p style="margin: 0px ; margin-left: 4px">+ Action: Checks (owner, sender, ...), decrypt sealed storage,</p><p style="margin: 0px ; margin-left: 4px">               return value of counter</p></div></foreignObject><text x="189" y="40" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><rect x="37" y="100" width="380" height="80" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(36.5,99.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="379" height="79" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 380px; height: 80px; overflow: hidden; white-space: nowrap;"><p style="margin: 0px ; margin-top: 4px ; text-align: center"><b>Function "compose_extrinsic"</b></p><hr size="1" /><p style="margin: 0px ; margin-left: 4px">+ Action: compose payload with AccountId, Increment, Signature<br /></p><p style="margin: 0px ; margin-left: 4px">+ Action: encrypt payload with TEE public key</p><p style="margin: 0px ; margin-left: 4px">+ Output: encypted payload ready for transfer</p><p style="margin: 0px ; margin-left: 4px"><br /></p><p style="margin: 0px ; margin-left: 4px"><br /></p></div></foreignObject><text x="189" y="45" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><path d="M 337.59 852.35 L 477.59 852.35 L 477.59 212.35 L 651.22 212.35" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 656.47 212.35 L 649.47 215.85 L 651.22 212.35 L 649.47 208.85 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(28.5,396.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="183" height="27" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 184px; white-space: nowrap; overflow-wrap: normal;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Example of substraTEE-client call:<br /><font face="Courier New">$ client add //Alice 42</font><br /></div></div></foreignObject><text x="92" y="20" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><rect x="547" y="440" width="70" height="70" rx="10.5" ry="10.5" fill="#d5e8d4" stroke="#82b366" pointer-events="none"/><image x="546.5" y="439.5" width="70" height="70" xlink:href="https://cdn3.iconfinder.com/data/icons/technology-mix/200/Technology_Mix_-_Final-26-128.png" preserveAspectRatio="none" pointer-events="none"/><g transform="translate(569.5,516.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="23" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#ffffff;">TEE</div></div></foreignObject><text x="12" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">TEE</text></switch></g><rect x="77" y="645" width="370" height="120" rx="6" ry="6" fill="#f9f7ed" stroke="#36393d" pointer-events="none"/><g transform="translate(193.5,628.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="135" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 135px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Example form of extrinsic</div></div></foreignObject><text x="68" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Example form of extrinsic</text></switch></g><rect x="87" y="660" width="230" height="30" fill="#ffffff" stroke="#cccccc" pointer-events="none"/><g transform="translate(88.5,667.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="99" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 100px; white-space: nowrap; overflow-wrap: normal;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Encrypted payload</div></div></foreignObject><text x="50" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Encrypted payload</text></switch></g><rect x="377" y="660" width="60" height="30" fill="#ffffff" stroke="#cccccc" pointer-events="none"/><g transform="translate(378.5,660.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="57" height="26" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 57px; white-space: normal; overflow-wrap: normal;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Signature Alice</div></div></foreignObject><text x="29" y="19" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Signature Alice</text></switch></g><rect x="317" y="660" width="60" height="30" fill="#ffffff" stroke="#cccccc" pointer-events="none"/><g transform="translate(318.5,667.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="39" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 40px; white-space: nowrap; overflow-wrap: normal;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Module</div></div></foreignObject><text x="20" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Module</text></switch></g><rect x="112" y="720" width="60" height="30" fill="#ffffff" stroke="#cccccc" pointer-events="none"/><g transform="translate(113.5,727.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="26" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 27px; white-space: nowrap; overflow-wrap: normal;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Alice</div></div></foreignObject><text x="13" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Alice</text></switch></g><rect x="172" y="720" width="60" height="30" fill="#ffffff" stroke="#cccccc" pointer-events="none"/><g transform="translate(173.5,727.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="53" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 54px; white-space: nowrap; overflow-wrap: normal;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Increment</div></div></foreignObject><text x="27" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Increment</text></switch></g><rect x="232" y="720" width="60" height="30" fill="#ffffff" stroke="#cccccc" pointer-events="none"/><g transform="translate(233.5,720.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="57" height="26" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 57px; white-space: normal; overflow-wrap: normal;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Signature Alice</div></div></foreignObject><text x="29" y="19" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Signature Alice</text></switch></g><path d="M 212 590 L 207 590 Q 202 590 202 600 L 202 695 Q 202 705 197 705 L 194.5 705 Q 192 705 197 705 L 199.5 705 Q 202 705 202 715 L 202 810 Q 202 820 207 820 L 212 820" fill="none" stroke="#cccccc" stroke-miterlimit="10" transform="rotate(-90,202,705)" pointer-events="none"/></g></svg>